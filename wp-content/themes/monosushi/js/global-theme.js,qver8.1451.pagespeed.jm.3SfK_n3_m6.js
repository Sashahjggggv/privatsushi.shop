let _functions={},winW,winH,winScr,isTouchScreen,is_Mac,isIE;jQuery(function($){"use strict";isTouchScreen=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i);is_Mac=navigator.platform.toUpperCase().indexOf('MAC')>=0;isIE=/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent);const $body=$('body');$body.addClass('loaded');if(isTouchScreen)$('html').addClass('touch-screen');if(is_Mac)$body.addClass('mac');if(isIE)$body.addClass('ie');_functions.productSwiperWrapperHeight=function(){if(!$('.products_swiper').length)return;setTimeout(function(){const h=$('.products_swiper').find('.swiper-container').height();$('.products_swiper').find('.swiper-wrapper').css({'height':h});},1000);}
_functions.pageCalculations=function(){winW=$(window).width();winH=$(window).height();_functions.productSwiperWrapperHeight();}
_functions.pageCalculations();_functions.imagesLazyLoad=function(){$('img[data-i-src]:not(.imgLoaded)').each(function(i,el){let loadImage=new Image();loadImage.src=$(el).data('i-src');loadImage.onload=function(){$(el).attr({'src':$(el).data('i-src')}).addClass('imgLoaded');};loadImage=null;});$('iframe[data-i-src]:not(.imgLoaded)').each(function(i,el){$(el).attr({'src':$(el).data('i-src')}).addClass('imgLoaded');});$('[data-bg]:not(.bgLoaded)').each(function(i,el){let loadImage=new Image();loadImage.src=$(el).data('bg');loadImage.onload=function(){$(el).css({'background-image':'url('+$(el).data('bg')+')'}).addClass('bgLoaded');}
loadImage=null;});}
setTimeout(function(){_functions.imagesLazyLoad();},100);_functions.pageScroll=function(current,header_height){$('html, body').animate({scrollTop:current.offset().top-header_height},700);}
if($('.SelectBox').length){$('.SelectBox').each(function(){$(this).SumoSelect({floatWidth:0,nativeOnDevice:[]});});}$(window).scroll(function(){_functions.scrollCall();});_functions.scrollCall=function(){winScr=$(window).scrollTop();if(winScr>50){$('header').addClass('scrolled');}else{$('header').removeClass('scrolled');}}
setTimeout(_functions.scrollCall,0);_functions.resizeCall=function(){setTimeout(function(){_functions.pageCalculations();},100);};if(!isTouchScreen){$(window).resize(function(){_functions.resizeCall();});}else{window.addEventListener("orientationchange",function(){_functions.resizeCall();},false);}_functions.getSwOptions=function(swiper){let options=swiper.data('options');options=(!options||typeof options!=='object')?{}:options;const $p=swiper.closest('.swiper-entry');if(!options.pagination)options.pagination={el:$p.find('.swiper-pagination')[0],clickable:true};if(!options.navigation)options.navigation={nextEl:$p.find('.swiper-button-next')[0],prevEl:$p.find('.swiper-button-prev')[0]};options.preloadImages=false;options.lazy={loadPrevNext:true};options.observer=true;options.observeParents=true;options.watchOverflow=true;options.centerInsufficientSlides=true;if(!options.speed)options.speed=500;options.roundLengths=true;if(isTouchScreen)options.direction="horizontal";return options;};_functions.initSwiper=function(el){const swiper=new Swiper(el[0],_functions.getSwOptions(el));};$('.swiper-entry .swiper-container').each(function(){_functions.initSwiper($(this));});$('.swiper-thumbs').each(function(){let top=$(this).find('.swiper-container.swiper-thumbs-top')[0].swiper,bottom=$(this).find('.swiper-container.swiper-thumbs-bottom')[0].swiper;top.thumbs.swiper=bottom;top.thumbs.init();top.thumbs.update();});$('.swiper-control').each(function(){let top=$(this).find('.swiper-container')[0].swiper,bottom=$(this).find('.swiper-container')[1].swiper;top.controller.control=bottom;bottom.controller.control=top;});let popupTop=0;_functions.removeScroll=function(){popupTop=$(window).scrollTop();$('html').css({"position":"fixed","top":-$(window).scrollTop(),"width":"100%"});}
_functions.addScroll=function(){$('html').css({"position":"static"});window.scroll(0,popupTop);}
_functions.openPopup=function(popup){$('.popup-content').removeClass('active');$(popup+', .popup-wrapper').addClass('active');_functions.removeScroll();};_functions.videoPopup=function(src){$('#video-popup .embed-responsive').html('<iframe src="'+src+'"></iframe>');_functions.openPopup('#video-popup');};_functions.closePopup=function(){$('.popup-wrapper, .popup-content').removeClass('active');$('#video-popup iframe').remove();_functions.addScroll();};_functions.textPopup=function(title,description){$('#text-popup .text-popup-title').html(title);$('#text-popup .text-popup-description').html(description);_functions.openPopup('#text-popup');};$(document).on('click','.video-popup',function(e){e.preventDefault();_functions.videoPopup($(this).data('src'));});$(document).on('click','.open-popup',function(e){e.preventDefault();_functions.openPopup('.popup-content[data-rel="'+$(this).data('rel')+'"]');});$(document).on('click','.popup-wrapper .close-popup, .popup-wrapper .layer-close',function(e){e.preventDefault();_functions.closePopup();});function keyboardFocus(e){if(e.keyCode!==9){return;}switch(e.target.nodeName.toLowerCase()){case'input':case'select':case'textarea':break;default:document.documentElement.classList.add('keyboard-focus');document.removeEventListener('keydown',keyboardFocus,false);}}document.addEventListener('keydown',keyboardFocus,false);$(document).on('click','.filters-list li',function(){$(this).addClass('active').siblings().removeClass('active');});$('.category-title').on('click',function(){$(this).toggleClass('active').closest('.categories-menu').toggleClass('active');});$('.categories-list-item').on('click',function(){$(this).closest('.categories-menu').removeClass('active').find('.category-title').removeClass('active');});$(document).on('click','.js-product .order-btn, .order-btn',function(){const $this=$(this);if(!$this.hasClass('loading')){$this.addClass('loading');$('.js-product').not($(this).closest('.js-product')).each(function(){$(this).find('.order-btn').addClass('disabled');});let loader='<span class="btn-loader"><span class="btn-loader-inner"><span></span><span></span><span></span></span></span>',success='<span class="btn-loader-complete"></span>';$this.append(loader).find('.btn-loader').fadeIn(500,function(){setTimeout(function(){$this.append(success).fadeIn(500,function(){$this.find('.btn-loader').remove();setTimeout(function(){$this.find('.btn-loader-complete').fadeOut(500,function(){$(this).remove();$this.removeClass('loading');$('.js-product').each(function(){$(this).find('.order-btn').removeClass('disabled');});});},1);});},1);});setTimeout(function(){$('.basket').addClass('active');},1500)}});if($(".inputmask").length){$(".inputmask").inputmask({showMaskOnHover:false,mask:"+38 (0x9) 999 99 99",definitions:{'x':{validator:"[1-2,4-7,9-9]"},'9':{validator:"[0-9]"}}});}if($(".inputtime").length){$(".inputtime").inputmask({showMaskOnHover:false});};_functions.calculateCartTotalPrice=function(){let total=0;$('.cart .js-product').each(function(){total+=+$(this).data('price')*+$(this).find('.thumb-input-number input').val();});$('#card-total-price').html(total);$('#basket-total-price').html(total);if(total===0){$('#cart-submit').addClass('disabled');}}
$(document).on('click','.cart .js-product .thumb-input-number button',function(){_functions.calculateCartTotalPrice();});$(document).on('click','.cart .js-product .btn-close',function(){$(this).closest('.js-product').slideUp(0,function(){$(this).remove();_functions.calculateCartTotalPrice();})});$('.cart-close, .cart_bg-layer').on('click',function(){$('.cart').removeClass('active');$('.header-basket').removeClass('active');$('html').removeClass('overflow-menu');_functions.addScroll();});$('.toggle-block-control').on('change',function(){let blockNum=$(this).data('block'),rel=$(this).data('rel'),$showBlock=$('.toggle-block[data-block="'+blockNum+'"][data-rel="'+rel+'"]'),$hideBlock=$('.toggle-block[data-block="'+blockNum+'"]:visible');if($(this).is('input[type="checkbox"]')){$showBlock.slideToggle();return;}if($hideBlock.length){$hideBlock.slideUp(100,function(){$showBlock.slideDown();});}else{$showBlock.slideDown();}});_functions.calculateTotalCheckoutPrice=function(){let allSummProduct=0;$('.checkout-products .js-checkout-product').each(function(){allSummProduct+=+$(this).data('price')*+$(this).find('.thumb-input-number input').val();});$('.all-product-price-el').text(allSummProduct);if(allSummProduct===0){$('.cart-empty-section').show();$('.checkout-section').hide();}}
$(document).on('click','.js-checkout-product .thumb-input-number button',function(){_functions.calculateTotalCheckoutPrice();let prod=$(this).closest('.js-checkout-product'),productSum=+prod.data('price')*+prod.find('input').val();prod.find('.price').text(productSum);});$(document).on('click','.js-checkout-product .btn-close',function(){$(this).closest('.js-checkout-product').slideUp(0,function(){$(this).remove();_functions.calculateTotalCheckoutPrice();});});_functions.calculateSinglePrice=function($parentEl){let prod=$parentEl,productSum=+prod.attr('data-price')*+prod.find('input').val();prod.find('.price').text(productSum);}
$(document).on('click','.js-product .thumb-input-number button',function(){_functions.calculateSinglePrice($(this).closest('.js-product'));});$(document).on('click','.js-product .product_variations li',function(e){let $this=$(this),$product=$this.closest('.js-product'),price=$this.attr('data-price'),oldPrice=$this.attr('data-old-price'),size=$this.attr('data-size'),imgSrc=$this.attr('data-img-scr'),imgHoverSrc=$this.attr('data-img-hover-src');$this.addClass('active').siblings().removeClass('active');if(price)$product.attr('data-price',price);if(oldPrice)$product.find('.price-old').text(oldPrice);if(size)$product.find('.size').text(size);if(imgSrc){if($product.is('.js-product-detail')){$('.product_detail-img').eq(0).find('.img').attr('src',imgSrc);}else{$product.find('.img-default').attr('src',imgSrc);}}if(imgHoverSrc)$product.find('.img-hover').attr('src',imgHoverSrc);$product.find('input').val(1);_functions.calculateSinglePrice($product);});$('.input[required]').on('blur',function(){if($(this).val().trim()){$(this).removeClass('invalid');}else{$(this).addClass('invalid');}});$('.custom_dropdown-title').on('click',function(e){$(this).toggleClass('active');$(this).closest('.custom_dropdown').find('.custom_dropdown-toggle').slideToggle(300);});$('input[name="cabinet-address"]').on('change',function(){$('.cabinet_address tr').removeClass('active');$('input[name="cabinet-address"]:checked').closest('tr').addClass('active');});$('.cabinet_address .btn-close').on('click',function(){$(this).closest('tr').remove();});let scrolladded=true;$('.burger-menu').on('click',function(){console.log(111);$('header').find('.header-nav-wrapper').toggleClass('active');$('.burger-menu').toggleClass('active');$('header').toggleClass('active');$('.header-user').removeClass('active');$('.cart').removeClass('active');$('.header-basket').removeClass('active');$('header').addClass('active-layer-close');$('html').removeClass('overflow-menu');if(winW<1200){if(scrolladded){_functions.removeScroll();scrolladded=false;}else{$('header').removeClass('active-layer-close');$('header').addClass('scrolled');_functions.addScroll();scrolladded=true;}}});$('.layer-close').on('click',function(){$('header').removeClass('active-layer-close');$('.burger-menu').removeClass('active');$('header').removeClass('active');$('.header-user').removeClass('active');$('.cart').removeClass('active');$('.header-basket').removeClass('active');$('header').addClass('scrolled');$('html').removeClass('overflow-menu');if(winW<1200){if(scrolladded){_functions.removeScroll();scrolladded=false;}else{$('header').removeClass('active-layer-close');$('header').addClass('scrolled');_functions.addScroll();scrolladded=true;}}});$('.header-mobile-layer').on('click',function(){$('.header-nav-wrapper').removeClass('active');$('.burger-menu').removeClass('active');$('header').removeClass('active');$('html').removeClass('overflow-menu');_functions.addScroll();scrolladded=true;});$('.header-user').on('click',function(){$('.header-user').toggleClass('active');$('.cart').removeClass('active');$('.header-basket').removeClass('active');$('.burger-menu').removeClass('active');$('.header-nav-wrapper').removeClass('active');$('header').removeClass('active');$('header').addClass('active-layer-close');$('html').removeClass('overflow-menu');if(winW<1200){if(scrolladded){_functions.removeScroll();scrolladded=false;}else{$('header').removeClass('active-layer-close');$('header').addClass('scrolled');_functions.addScroll();scrolladded=true;}}});$(document).on('click','.accordion-item:not(.edit) .accordion-title',function(){if($(this).hasClass('active')){$(this).removeClass('active').next().slideUp();}else{$(this).closest('.accordion').find('.accordion-title').not(this).removeClass('active').next().slideUp();$(this).addClass('active').next().slideDown();}});$('.more-text .read-more').on('click',function(){$(this).parents('.more-text').toggleClass('open-more-text');$(this).parent().find('.article').slideToggle(600);if($('.more-text').hasClass('open-more-text')){$('.btn-link').text($(this).data('active-text'));}else{$('.btn-link').text($(this).data('orig-text'));}});$('.tab-title').on('click',function(){$(this).parent().toggleClass('active');});$('.tab-toggle div').on('click',function(){var tab=$(this).closest('.tabs').find('.tab');var i=$(this).index();$(this).addClass('active').siblings().removeClass('active');tab.eq(i).siblings('.tab:visible').fadeOut(function(){tab.eq(i).fadeIn();});$(this).closest('.tab-nav').removeClass('active').find('.tab-title').text($(this).text());});function initCounter(){if(!$('.countdown').length)return false;$('.countdown').not('.initialized').each(function(){$(this).addClass('initialized').ClassyCountdown({end:$.now()+parseInt($(this).data('end')),labels:true,labelsOptions:{lang:{days:'Дні',hours:'Години',minutes:'Хвилин',seconds:'Секунд'}},style:{element:"",days:{gauge:{thickness:$(this).data('line'),fgColor:$(this).data('fgcolor'),bgColor:$(this).data('bgcolor')}},hours:{gauge:{thickness:$(this).data('line'),fgColor:$(this).data('fgcolor'),bgColor:$(this).data('bgcolor')}},minutes:{gauge:{thickness:$(this).data('line'),fgColor:$(this).data('fgcolor'),bgColor:$(this).data('bgcolor')}},seconds:{gauge:{thickness:$(this).data('line'),fgColor:$(this).data('fgcolor'),bgColor:$(this).data('bgcolor')}}}});});}initCounter();var site_url=$('.form-block-inputs').data('url');$('.yikes-mailchimp-container button').append('<img src="'+site_url+'/img/icons/btn-arrow.svg" alt=""></img>');document.addEventListener('wpcf7mailsent',function(event){$('.popup-content').removeClass('active');location.href=location.origin+'/thank-you/';},false);$('img').attr({'oncontextmenu':'return false'});$(document).on('keyup','.your-phone .input',function(){if(Inputmask.isValid($(this).val(),{alias:"+38 (099) 999 99 99"})==false){$(this).addClass('wpcf7-not-valid');$(this).attr('aria-invalid','true');}else{$(this).removeClass('wpcf7-not-valid');$(this).attr('aria-invalid','false');}});$(document).on('keyup','.input.user-phone',function(){if(Inputmask.isValid($(this).val(),{alias:"+38 (099) 999 99 99"})==false){$(this).addClass('invalid');$(this).attr('aria-invalid','true');console.log('isValid if');}else{console.log('isValid else');$(this).removeClass('invalid');$(this).attr('aria-invalid','false');}});$(document).ready(function(){$('.categories-list .categories-list-item').each(function(){if($(this).hasClass('active')){var curr_item=$(this).find('a').text();$('.category-title').html(curr_item);}});});});